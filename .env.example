# BentoML Environment Configuration for Local Development
# Copy this file to .env and modify as needed
#
# All scripts (health.sh, endpoint.sh, run_bentoml.sh, etc.) and pytest integration
# tests now use these environment variables instead of hardcoded values.
# This allows for easy customization of hosts, ports, and protocols.

# BentoML Configuration
BENTOML_CONFIG_FILE=config/bentoml.yaml
BENTOML_HOME=./bentoml_home

# Server Configuration
BENTOML_HOST=127.0.0.1
BENTOML_PORT=3000
BENTOML_PROTOCOL=http

# Individual Service Ports for Testing
# These are used by pytest integration tests and can be customized to avoid port conflicts
# Format: {SERVICE_NAME}_SERVICE_PORT where SERVICE_NAME is uppercase
# Example usage: EXAMPLE_SERVICE_PORT=3002 ./scripts/test.sh --service example
EXAMPLE_SERVICE_PORT=3002
LLAVA_SERVICE_PORT=3002
STABLE_DIFFUSION_SERVICE_PORT=3001
WHISPER_SERVICE_PORT=3004
UPSCALER_SERVICE_PORT=3006
MULTI_SERVICE_PORT=3003

# Development Settings
BENTOML_DEVELOPMENT=true
BENTOML_RELOAD=true

# Logging
BENTOML_LOG_LEVEL=INFO
BENTOML_ACCESS_LOG=true

# Storage Paths
BENTOML_BENTOS_PATH=./bentos
BENTOML_MODELS_PATH=./models

# Metrics and Monitoring
BENTOML_ENABLE_METRICS=true
BENTOML_ENABLE_SWAGGER=true

# Performance Settings for Local Testing
BENTOML_WORKERS=1
BENTOML_TIMEOUT=60
BENTOML_MAX_BATCH_SIZE=100
BENTOML_MAX_LATENCY_MS=1000

# HuggingFace Configuration
# Set custom cache directory for HuggingFace models (Stable Diffusion, etc.)
# Default: ~/.cache/huggingface
# Example for external drive: /Volumes/Second/huggingface
# HF_HOME=/path/to/your/custom/huggingface/cache
# TRANSFORMERS_CACHE=${HF_HOME}/hub
# HUGGINGFACE_HUB_CACHE=${HF_HOME}/hub

# Optional: API Keys and External Services
# OPENAI_API_KEY=your_openai_api_key_here
# HUGGINGFACE_HUB_TOKEN=your_hf_token_here
# AWS_ACCESS_KEY_ID=your_aws_access_key
# AWS_SECRET_ACCESS_KEY=your_aws_secret_key

# Optional: Database Configuration (if needed)
# DATABASE_URL=sqlite:///./bentoml.db

# Optional: Redis Configuration (for caching)
# REDIS_URL=redis://localhost:6379/0

# =============================================================================
# Environment Variable Usage Examples
# =============================================================================

# Override server configuration:
# BENTOML_HOST=0.0.0.0 BENTOML_PORT=8080 ./scripts/run_bentoml.sh serve service:latest

# Use different ports for testing:
# EXAMPLE_SERVICE_PORT=4000 LLAVA_SERVICE_PORT=4001 ./scripts/test.sh --all

# Run health check on custom service:
# BENTOML_PORT=4000 ./scripts/health.sh

# Test endpoint with custom configuration:
# BENTOML_HOST=192.168.1.100 BENTOML_PORT=8080 ./scripts/endpoint.sh health '{}'

# Set protocol for HTTPS deployments:
# BENTOML_PROTOCOL=https BENTOML_HOST=my-domain.com BENTOML_PORT=443